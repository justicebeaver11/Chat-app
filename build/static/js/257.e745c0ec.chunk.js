"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[257],{6818:(a,e,t)=>{t.r(e),t.d(e,{default:()=>h});var n=t(7528),r=t(5043),s=t(4574),i=t(854),o=t.n(i),c=t(9628),l=(t(2342),t(3216));const d=t.p+"static/media/loader.b40fc3d91ff1f4db53e2.gif";var m,g=t(2804),p=t(6382),u=t(579);function h(){const a=(0,l.Zp)(),[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),[i,m]=(0,r.useState)(void 0),h={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,r.useEffect)((async()=>{localStorage.getItem("chat-app-user")||a("/login")}),[]);return(0,r.useEffect)((async()=>{const a=[];for(let e=0;e<4;e++){const e=await o().get("".concat("https://api.multiavatar.com/4645646","/").concat(Math.round(1e3*Math.random()))),t=new p.hp(e.data);a.push(t.toString("base64"))}t(a),s(!1)}),[]),(0,u.jsxs)(u.Fragment,{children:[n?(0,u.jsx)(f,{children:(0,u.jsx)("img",{src:d,alt:"loader",className:"loader"})}):(0,u.jsxs)(f,{children:[(0,u.jsx)("div",{className:"title-container",children:(0,u.jsx)("h1",{children:"Pick an Avatar as your profile picture"})}),(0,u.jsx)("div",{className:"avatars",children:e.map(((a,e)=>(0,u.jsx)("div",{className:"avatar ".concat(i===e?"selected":""),children:(0,u.jsx)("img",{src:"data:image/svg+xml;base64,".concat(a),alt:"avatar",onClick:()=>m(e)})},e)))}),(0,u.jsx)("button",{onClick:async()=>{if(void 0===i)c.oR.error("Please select an avatar",h);else{const t=await JSON.parse(localStorage.getItem("chat-app-user")),{data:n}=await o().post("".concat(g.ZL,"/").concat(t._id),{image:e[i]});n.isSet?(t.isAvatarImageSet=!0,t.avatarImage=n.image,localStorage.setItem("chat-app-user",JSON.stringify(t)),a("/")):c.oR.error("Error setting avatar. Please try again.",h)}},className:"submit-btn",children:"Set as Profile Picture"})]}),(0,u.jsx)(c.N9,{})]})}const f=s.Ay.div(m||(m=(0,n.A)(["\ndisplay: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 3rem;\n  background-color: #131324;\n  height: 100vh;\n  width: 100vw;\n\n   .loader {\n    max-inline-size: 100%;\n  }\n\n  .title-container {\n    h1 {\n      color: white;\n    }\n  }\n  .avatars {\n    display: flex;\n    gap: 2rem;\n\n     .avatar {\n      border: 0.4rem solid transparent;\n      padding: 0.4rem;\n      border-radius: 5rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: 0.5s ease-in-out;\n      img {\n        height: 6rem;\n        transition: 0.5s ease-in-out;\n      }\n    }\n      .selected {\n      border: 0.4rem solid #4e0eff;\n    }\n}\n .submit-btn {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n"])))},2804:(a,e,t)=>{t.d(e,{$G:()=>c,Hc:()=>n,R6:()=>r,VV:()=>s,ZL:()=>i,dZ:()=>l,tO:()=>o});const n="http://localhost:5000",r="".concat(n,"/api/auth/register"),s="".concat(n,"/api/auth/login"),i="".concat(n,"/api/auth/setavatar"),o="".concat(n,"/api/auth/allusers"),c="".concat(n,"/api/messages/addmsg"),l="".concat(n,"/api/messages/getmsg")}}]);
//# sourceMappingURL=257.e745c0ec.chunk.js.map